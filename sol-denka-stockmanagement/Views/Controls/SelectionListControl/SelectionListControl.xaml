<UserControl x:Class="sol_denka_stockmanagement.Views.Controls.SelectionListControl.SelectionListControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:sol_denka_stockmanagement.Views.Controls.SelectionListControl"
             xmlns:fa="http://schemas.fontawesome.io/icons/"
             mc:Ignorable="d"
             d:DesignHeight="450">

    <Grid>
        <Border Background="#F4F4F4"
                BorderBrush="#CCC"
                BorderThickness="0,0,1,0">

            <StackPanel>

                <TextBlock Text="副資材管理システム"
                           FontWeight="Bold"
                           Margin="10"
                           FontSize="26" />

                <ListBox x:Name="SelectList"
                    HorizontalAlignment="Stretch"
                         SelectionMode="Single"
                         SelectionChanged="SelectList_SelectionChanged"
                         BorderThickness="0"
                         Background="Transparent"
                         HorizontalContentAlignment="Stretch"
                         Focusable="False">

                    <!-- ===== Item Style ===== -->
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Padding"
                                    Value="10,8" />
                            <Setter Property="Margin"
                                    Value="0,4" />
                            <Setter Property="MinWidth"
                                    Value="220" />
                            <Setter Property="Cursor"
                                    Value="Hand" />
                            <Setter Property="Foreground"
                                    Value="Black" />

                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBoxItem">
                                        <Grid>
                                            <Border x:Name="Bd"
                                                    CornerRadius="10"
                                                    Background="{TemplateBinding Background}"
                                                    Padding="{TemplateBinding Padding}"
                                                    Margin="0">
                                                <ContentPresenter VerticalAlignment="Center" />
                                            </Border>

                                            <!-- 🔥 VISUAL STATES -->
                                            <VisualStateManager.VisualStateGroups>

                                                <!-- Selection -->
                                                <VisualStateGroup x:Name="SelectionStates">
                                                    <VisualState x:Name="Unselected">
                                                        <Storyboard>
                                                            <ColorAnimation Storyboard.TargetName="Bd"
                                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                            To="Transparent"
                                                                            Duration="0:0:0.12" />
                                                            <ThicknessAnimation Storyboard.TargetName="Bd"
                                                                                Storyboard.TargetProperty="Margin"
                                                                                To="0"
                                                                                Duration="0:0:0.12" />
                                                        </Storyboard>
                                                    </VisualState>

                                                    <VisualState x:Name="Selected">
                                                        <Storyboard>
                                                            <ColorAnimation Storyboard.TargetName="Bd"
                                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                            To="#1A73E8"
                                                                            Duration="0:0:0.18" />
                                                            <ThicknessAnimation Storyboard.TargetName="Bd"
                                                                                Storyboard.TargetProperty="Margin"
                                                                                To="8,0"
                                                                                Duration="0:0:0.18" />
                                                        </Storyboard>
                                                    </VisualState>
                                                </VisualStateGroup>

                                                <!-- Mouse -->
                                                <VisualStateGroup x:Name="CommonStates">
                                                    <VisualState x:Name="Normal" />
                                                    <VisualState x:Name="MouseOver">
                                                        <Storyboard>
                                                            <ColorAnimation Storyboard.TargetName="Bd"
                                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                            To="#E6E6E6"
                                                                            Duration="0:0:0.12" />
                                                        </Storyboard>
                                                    </VisualState>
                                                </VisualStateGroup>

                                            </VisualStateManager.VisualStateGroups>
                                        </Grid>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsSelected"
                                         Value="True">
                                    <Setter Property="Background"
                                            Value="#1A73E8" />
                                    <Setter Property="Foreground"
                                            Value="White" />
                                </Trigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver"
                                                   Value="True" />
                                        <Condition Property="IsSelected"
                                                   Value="False" />
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Background"
                                            Value="#E6E6E6" />
                                    <Setter Property="Foreground"
                                            Value="Black" />
                                </MultiTrigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver"
                                                   Value="False" />
                                        <Condition Property="IsSelected"
                                                   Value="False" />
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Background"
                                            Value="Transparent" />
                                    <Setter Property="Foreground"
                                            Value="Black" />
                                </MultiTrigger>

                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>


                    <!-- ===== Items (GIỮ NGUYÊN) ===== -->
                    <ListBoxItem Tag="Home">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="Home"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="Home"
                                       Foreground="{Binding Foreground,
                 RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="資材台帳">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="Book"
                                             x:Name="Icon"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="資材台帳"
                                       x:Name="Label"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="在庫一覧">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="LocationArrow"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="在庫一覧"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="棚卸結果">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="Dropbox"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="棚卸結果"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="CSV取込">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="CloudDownload"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="CSV取り込み"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="CSV出力">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="CloudUpload"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="CSV出力"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="USB連携">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="Usb"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="USB連携"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="マスタ管理">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="File"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="マスタ管理"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem Tag="設定">
                        <StackPanel Orientation="Horizontal">
                            <fa:ImageAwesome Icon="Gear"
                                             Width="20"
                                             Height="20"
                                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                             Margin="0,0,8,0" />
                            <TextBlock Text="設定"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                    </ListBoxItem>

                </ListBox>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
