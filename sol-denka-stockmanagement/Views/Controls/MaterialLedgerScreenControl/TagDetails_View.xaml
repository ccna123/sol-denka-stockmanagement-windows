<UserControl x:Class="sol_denka_stockmanagement.Views.Controls.MaterialLedgerScreenControl.TagDetails_View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:sol_denka_stockmanagement.Views.Controls.MaterialLedgerScreenControl"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             Background="White"
             d:DesignHeight="450" d:DesignWidth="640">
    <UserControl.Resources>
        <local:StockToBoolConverter x:Key="StockToBoolConverter"/>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.1*"/>
            <RowDefinition Height="0.9*"/>
        </Grid.RowDefinitions>

        <Border BorderBrush="Gray" BorderThickness="0,0,0,1">
            <Grid Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="40,0,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.2*"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="0.7*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0" Margin="0,0,10,0">
                    <Button 
                        x:Name="BackButton"
                        Content="←"
                        FontSize="20"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="BackPage_Click"
                        BorderBrush="White"/>
                </Grid>
                <Grid Grid.Column="2">
                    <TextBlock 
                Text="資材台帳詳細"
                FontSize="20"/>
                </Grid>
            </Grid>
        </Border>

        <Grid Grid.Row="1">
            <Grid Margin="10">
                <TabControl>
                    
                    <!-- 基本情報タブ -->
                    <TabItem Header="基本情報" >
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="0.45*"/>
                                <ColumnDefinition Width="0.55*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="40"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Text="アイテム名" FontSize="20" VerticalAlignment="Center"/>
                            <TextBlock  Grid.Row="0" Grid.Column="1" Text="{Binding ItemType.Item_type_name}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="0" Grid.Column="2" Text="Lot No" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="LotNoBox" Grid.Row="0" Grid.Column="3" Text="{Binding Lot_no}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="2" Text="区分" FontSize="20" VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding ItemType.ItemCategory.Item_category_name}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="2" Grid.Column="2" Text="発生理由" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="OccurrenceReasonBox" Grid.Row="2" Grid.Column="3" Text="{Binding Occurrence_reason}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="4" Text="グレード" FontSize="20" VerticalAlignment="Center" />
                            <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding ItemType.Grade}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="4" Grid.Column="2" Text="発生日時" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="OccurredAtBox" Grid.Row="4" Grid.Column="3" Text="{Binding Occurred_at, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="6" Text="荷姿" FontSize="20" VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="6" Grid.Column="1" Text="{Binding ItemType.Packing_type}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="6" Grid.Column="2" Text="処理日時" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="ProcessedAtBox" Grid.Row="6" Grid.Column="3"  Text="{Binding Processed_at, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="8" Text="比重" FontSize="20" VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="8" Grid.Column="1" Text="{Binding ItemType.Specific_gravity}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="8" Grid.Column="2" Text="登録日時" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBlock Grid.Row="8" Grid.Column="3"  Text="{Binding Registered_at, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="10" Text="厚さ(mm)" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="ThicknessBox" Grid.Row="10" Grid.Column="1" Text="{Binding Thickness}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="10" Grid.Column="2" Text="更新日時" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBlock Grid.Row="10" Grid.Column="3" Text="{Binding Updated_at}" VerticalAlignment="Center" FontSize="14"/>

                            <TextBlock Grid.Row="12" Text="巾(mm)" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="WidthBox" Grid.Row="12" Grid.Column="1" Text="{Binding Width}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="12" Grid.Column="2" Text="備考" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="MemoBox" Grid.Row="12" Grid.Column="3" Text="{Binding Memo}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="14" Text="長さ" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="LengthBox" Grid.Row="14" Grid.Column="1" Text="{Binding Length}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="14" Grid.Column="2" Text="状態管理" FontSize="20" FontWeight="Bold"  VerticalAlignment="Center" Margin="10,0,0,0"/>

                            <TextBlock Grid.Row="16" Text="数量" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="QuantityBox" Grid.Row="16" Grid.Column="1" Text="{Binding Quantity}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="16" Grid.Column="2" Text="有効/無効" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <CheckBox x:Name="CheckBox" Grid.Row="16" Grid.Column="3" Content="有効" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="18" Text="重量" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="WeightBox" Grid.Row="18" Grid.Column="1" Text="{Binding Weight}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="18" Grid.Column="2" Text="在庫状態" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <StackPanel Grid.Row="18" Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center">
                                <!-- 在庫有 -->
                                <RadioButton x:Name="InStock" Content="在庫有（入庫状態）" FontSize="14" Margin="0,0,10,0" IsEnabled="False" IsChecked="{Binding Is_in_stock, Converter={StaticResource StockToBoolConverter}, ConverterParameter=1}" />

                                <!-- 在庫無 -->
                                <RadioButton x:Name="NotStock" Content="在庫無（出庫状態）" FontSize="14" IsEnabled="False" IsChecked="{Binding Is_in_stock, Converter={StaticResource StockToBoolConverter}, ConverterParameter=0}" />
                            </StackPanel>

                            <TextBlock Grid.Row="20" Text="巻取機" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="WinderBox" Grid.Row="20" Grid.Column="1" Text="{Binding Winder.Winder_name}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="20" Grid.Column="2" Text="アイテムコード" FontSize="20" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox x:Name="ItemCodeName" Grid.Row="20" Grid.Column="3" Text="" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <TextBlock Grid.Row="22" Text="保管場所" FontSize="20" VerticalAlignment="Center"/>
                            <TextBox x:Name="LocationBox" Grid.Row="22" Grid.Column="1" Text="{Binding Location.Location_name}" VerticalAlignment="Center" FontSize="14" IsEnabled="False"/>

                            <Grid Grid.Row="22" Grid.Column="4" Margin="0,0,15,0">
                                <Button
                                    x:Name="EditButton"
                                    Height="40"
                                    Width="80"
                                    Content="編集"
                                    FontSize="14"
                                    Background="White"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Click="EditPage_Click"/>
                            </Grid>
                        </Grid>

                    </TabItem>

                    <!-- 操作履歴タブ -->
                    <TabItem Header="操作履歴">
                        <Grid Margin="10">
                            <ListView 
                        Margin="10"
                        x:Name="listView2" 
                        HorizontalAlignment="Stretch"
                        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                        SizeChanged="listView_SizeChanged"
                        BorderThickness="0">
                                <ListView.Resources>
                                    <!-- 灰色のヘッダースタイル -->
                                    <Style x:Key="GrayHeaderStyle" TargetType="GridViewColumnHeader">
                                        <Setter Property="Background" Value="LightGray"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                    </Style>
                                </ListView.Resources>
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="イベント日時" DisplayMemberBinding="{Binding EventDateTime}" HeaderContainerStyle="{StaticResource GrayHeaderStyle}"/>
                                        <GridViewColumn Header="イベント" DisplayMemberBinding="{Binding EventName}" HeaderContainerStyle="{StaticResource GrayHeaderStyle}"/>
                                        <GridViewColumn Header="保管場所" DisplayMemberBinding="{Binding Location}" HeaderContainerStyle="{StaticResource GrayHeaderStyle}"/>
                                        <GridViewColumn Header="操作内容" DisplayMemberBinding="{Binding Memo}" HeaderContainerStyle="{StaticResource GrayHeaderStyle}"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>
    </Grid>
</UserControl>
